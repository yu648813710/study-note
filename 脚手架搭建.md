# 脚手架搭建

## 目的

- 开发提效
- 标准化

## 一个脚手架需要什么

> 以下面三个脚手架为例看一下一个合格的脚手架需要什么

### create react app

- 安装脚手架的远程包

  - ```shell
    npx create-react-app <name> --template <template-name> --use-npm
    ```

- 安装完成后会直接生成项目，可以在里面直接开发，

  - 需要不同的template配置

- 开发所用的npm包

- 打包所用的配置

### vue-cli3

- 同react相比 多了更多的开发配置项

### umi

- 同前两个 相比 加入了更多模板以及约定式文件的东西。

### 总结

> 大致可以把一个脚手架分为三部，init 创建，dev 开发， build 打包。

- init

  > 创建前需要做一些准备工作，比如准备好不同的模板文件，以及写相应的交互终端等等

  - 用户安装依赖可以创建项目
    - 需要自己写一个npm包，然后发布
  - 用户输入命令，脚手架解析命令，并弹出交互语句，收集创建参数
    - 需要用到插件 [commander.js](http://link.zhihu.com/?target=https%3A//github.com/tj/commander.js/blob/master/Readme_zh-CN.md) ,这个库就是提取用户的输入交给脚手架
    - 询问操作 inquirer
    - 美化控制台输出chalk
  - 收集后 copy 相关的模板文件 进行下载

  

- dev

- build

![img](https://pic1.zhimg.com/v2-6ca2304623fb7f85cb6eb12d0a49bf25_1440w.jpg?source=172ae18b)



![img](https://pic3.zhimg.com/80/v2-37b8bb7e471b597f89a2a60c35f4d91a_720w.jpg)

## 参考文档

[如何写一个脚手架](https://zhuanlan.zhihu.com/p/105846231)

[手把手教你写脚手架](手把手教你写一个脚手架 - 谭光志的文章 - 知乎 https://zhuanlan.zhihu.com/p/352484950)

[从0到1的开发脚手架](https://www.bilibili.com/video/BV1PN41197v4?from=search&seid=4710751927902518154)

[史上最贴心的脚手架开发辅导](https://www.bilibili.com/video/BV17J411m7hR?from=search&seid=4710751927902518154)